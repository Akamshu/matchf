<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <link rel="icon" type="image/x-icon" href="/logos/kponkiuslogo.png">
<title>Kponkius Match Fixtures Generator</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

<style>
  * {
    box-sizing: border-box;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  }
  body {
    background: linear-gradient(to bottom right, #2c3e50, #3498db);
    color: #fff;
    padding: 20px;
    text-align: center;
    margin: 0;
  }
  h2 { margin-bottom: 20px; }
  .container {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 14px;
    padding: 25px 30px;
    max-width: 850px;
    margin: auto;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
  }
  .form-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 15px;
  }
  /* Base styles for inputs */
input[type="text"],
 select,
 input[type="time"],
input[type="date"],
input[type="file"],
input[list] {
  position: relative;
  width: 100%;
  padding: 14px 12px;
  font-size: 16px;
  border: 2px solid #ccc;
  border-radius: 8px;
  background-color: white;
  color: #333;
  outline: none;
  transition: all 0.3s ease;
  appearance: none;
  font-family: "Segoe UI", sans-serif;
}

/* Material-like focus effect */
input[type="text"]:focus,
input[type="date"]:focus,
input[type="file"]:focus,
 input[type="time"]:focus,
input[list]:focus {
  border-color: #1976d2;
  box-shadow: 0 0 0 4px rgba(25, 118, 210, 0.2);
}

/* Floating label wrapper */
.input-group {
  position: relative;
  margin-bottom: 20px;
}

.input-group label {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  color: #888;
  pointer-events: none;
  transition: all 0.2s ease;
  background: white;
  padding: 0 4px;
  font-size: 16px;
}

/* Floating label animation */
.input-group input:focus + label,
.input-group input:not(:placeholder-shown) + label {
  top: -8px;
  font-size: 12px;
  color: #1976d2;
}

/* Datalist dropdown styling */
datalist {
  background-color: white;
  color: #333;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 4px 0;
  max-height: 200px;
  overflow-y: auto;
}

/* Option styling inside datalist */
option {
  padding: 8px 12px;
  font-size: 15px;
}

/* File input custom look */
input[type="file"] {
  border: 2px dashed #ccc;
  background-color: #fafafa;
  cursor: pointer;
 
}


.custom-file-upload {
  display: inline-block; /* Make the label act like a button */
  background-color: #28a745; /* Example background color */
  color: white; /* Example text color */
  padding: 10px 15px; /* Example padding */
  border-radius: 5px; /* Example rounded corners */
  cursor: pointer; /* Indicate it's clickable */
  /* Add other styling properties as desired */
}

.custom-file-upload:hover {
  background-color: #218838; /* Example hover effect */
}

input[type="file"]:hover {
  border-color: #1976d2;
  background-color: #f1faff;
}

  input[type="text"], input[type="date"], input[type="file"] {
    padding: 12px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background-color: #ecf0f1;
    color: #333;
    width: 100%;
  }
  input[type="file"] { background-color: #fff; padding: 8px; }
  button {
    width: 48%;
    padding: 12px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background: #27ae60;
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
  }
  button:hover { background-color: #1e8d4d; transform: scale(1.03); }
  canvas {
    margin-top: 30px;
    border-radius: 12px;
    max-width: 100%;
    width: 100%;
    border: 2px solid #fff;
  }
  @media (max-width: 600px) {
    .form-group { grid-template-columns: 1fr; }
    button { width: 100%; }
  }
</style>
</head>
<body>

<h2>üèÜ KPONKIUS Match Fixtures Generator</h2>

<div class="container">
   <input type="file" id="imageUploader" accept="image/*" hidden/><br><br>
  <div class="form-group">
  <select id="competitionSelect">
    <option value=""> Select League</option>
    <option value="premier">Premier League</option>
    <option value="ucl">Champions League</option>
    <option value="laliga">La Liga</option>
    <option value="seriea">Serie A</option>
    <option value="bundesliga">Bundesliga</option>
    <option value="facup">FA Cup</option>
    <option value="supercup">Super Cup</option>
    <option value="uel">Europa League</option>
    <option value="conference">Conference League</option>
    <option value="efl">EFL Cup</option>
    <option value="championship">Championship</option>
  </select>
</div>

<div class="form-group">
  <input type="file" id="player1" accept="image/*" />
  <input type="file" id="player2" accept="image/*" />
</div>
  <div class="form-group">
    <input list="epl-teams" id="homeTeam" placeholder="Home Team Name" />
    <input list="epl-teams" id="awayTeam" placeholder="Away Team Name" />
  </div>

  <div class="form-group">
    <input type="time" id="matchTime" placeholder="‚è∞ Match Time (e.g., 4:00 PM)" />
    <input list="epl-stadiums" id="stadiumName" placeholder="üèüÔ∏è Stadium Name" />
    <input type="date" id="matchDate" />
  </div>

  <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
    <button onclick="downloadImage()">üíæ Download Image</button>
  </div>
</div>

<datalist id="epl-teams">
  <!-- Premier League Teams -->
  <option value="AFC Bournemouth">
  <option value="Arsenal">
  <option value="Aston Villa">
  <option value="Brentford">
  <option value="Brighton & Hove Albion">
  <option value="Burnley">
  <option value="Chelsea">
  <option value="Crystal Palace">
  <option value="Everton">
  <option value="Fulham">
  <option value="Leeds United">
  <option value="Liverpool">
  <option value="Manchester City">
  <option value="Manchester United">
  <option value="Newcastle United">
  <option value="Nottingham Forest">
  <option value="Sunderland">
  <option value="Tottenham Hotspur">
  <option value="West Ham United">
  <option value="Wolverhampton Wanderers">

  <!-- La Liga Teams 2024/25 -->
  <option value="Alav√©s">
  <option value="Athletic Club">
  <option value="Atl√©tico Madrid">
  <option value="FC Barcelona">
  <option value="Celta Vigo">
  <option value="Espanyol">
  <option value="Getafe">
  <option value="Girona">
  <option value="Las Palmas">
  <option value="Legan√©s">
  <option value="Mallorca">
  <option value="Osasuna">
  <option value="Rayo Vallecano">
  <option value="Real Betis">
  <option value="Real Madrid">
  <option value="Real Sociedad">
  <option value="Sevilla">
  <option value="Valencia">
  <option value="Real Valladolid">
  <option value="Villarreal">
</datalist>


<datalist id="epl-stadiums">
  <option value="Vitality Stadium"> <!-- AFC Bournemouth -->
  <option value="Emirates Stadium"> <!-- Arsenal -->
  <option value="Villa Park"> <!-- Aston Villa -->
  <option value="Gtech Community Stadium"> <!-- Brentford -->
  <option value="Amex Stadium"> <!-- Brighton & Hove Albion -->
  <option value="Turf Moor"> <!-- Burnley -->
  <option value="Stamford Bridge"> <!-- Chelsea -->
  <option value="Selhurst Park"> <!-- Crystal Palace -->
  <option value="Goodison Park"> <!-- Everton -->
  <option value="Craven Cottage"> <!-- Fulham -->
  <option value="Elland Road"> <!-- Leeds United -->
  <option value="Anfield"> <!-- Liverpool -->
  <option value="Etihad Stadium"> <!-- Manchester City -->
  <option value="Old Trafford"> <!-- Manchester United -->
  <option value="St James' Park"> <!-- Newcastle United -->
  <option value="City Ground"> <!-- Nottingham Forest -->
  <option value="Stadium of Light"> <!-- Sunderland -->
  <option value="Tottenham Hotspur Stadium"> <!-- Tottenham Hotspur -->
  <option value="London Stadium"> <!-- West Ham United -->
  <option value="Molineux Stadium"> <!-- Wolverhampton Wanderers -->


   <option value="Spotify Camp Nou"> <!-- FC Barcelona -->
  <option value="Santiago Bernab√©u"> <!-- Real Madrid -->
  <option value="Metropolitano Stadium"> <!-- Atl√©tico Madrid -->
  <option value="Ramon Sanchez-Pizjuan Stadium"> <!-- Sevilla FC -->
  <option value="Estadio Benito Villamar√≠n"> <!-- Real Betis -->
  <option value="San Mam√©s"> <!-- Athletic Club (Bilbao) -->
  <option value="Reale Arena"> <!-- Real Sociedad -->
  <option value="Mestalla Stadium"> <!-- Valencia CF -->
  <option value="El Sadar Stadium"> <!-- Osasuna -->
  <option value="RCDE Stadium"> <!-- Espanyol -->
  <option value="Estadio de la Cer√°mica"> <!-- Villarreal CF -->
  <option value="Visit Mallorca Estadi"> <!-- RCD Mallorca -->
  <option value="Estadio de Vallecas"> <!-- Rayo Vallecano -->
  <option value="Municipal de Montilivi"> <!-- Girona FC -->
  <option value="Estadio de los Juegos Mediterr√°neos"> <!-- UD Almer√≠a -->
  <option value="Estadio Nuevo Mirandilla"> <!-- C√°diz CF -->
  <option value="Estadio de Gran Canaria"> <!-- UD Las Palmas -->
  <option value="Estadio Jos√© Zorrilla"> <!-- Real Valladolid -->
  <option value="Estadio Mendizorrotza"> <!-- Deportivo Alav√©s -->
  <option value="Coliseum Alfonso P√©rez"> <!-- Getafe CF -->
  <option value="Estadio Mart√≠nez Valero"> <!-- Elche CF -->
  <option value="Estadio La Rosaleda"> <!-- M√°laga CF -->
</datalist>


<canvas id="canvas"></canvas>

<script>
const teamShortNames = {
   "AFC Bournemouth": "BOURNEMOUTH",
  "Arsenal": "ARSENAL",
  "Aston Villa": "ASTON VILLA",
  "Brentford": "BRENTFORD",
  "Brighton & Hove Albion": "BRIGHTON",
  "Burnley": "BURNLEY",
  "Chelsea": "CHELSEA",
  "Crystal Palace": "C.PALACE",
  "Everton": "EVERTON",
  "Fulham": "FULHAM",
  "Leeds United": "LEEDS",
  "Liverpool": "LIVERPOOL",
  "Manchester City": "MAN CITY",
  "Manchester United": "MAN UNITED",
  "Newcastle United": "NEWCASTLE",
  "Nottingham Forest": "N. FOREST",
  "Sunderland": "SUNDERLAND",
  "Tottenham Hotspur": "TOTTENHAM",
  "West Ham United": "WESTHAM",
  "Wolverhampton Wanderers": "WOLVES",

  "Alav√©s": "ALAVES",
  "Athletic Bilbao": "ATHLETIC",
  "Atl√©tico Madrid": "ATLETICO",
  "FC Barcelona": "BARCA",
  "C√°diz": "CADIZ",
  "Celta Vigo": "CELTA",
  "Getafe": "GETAFE",
  "Girona": "GIRONA",
  "Granada": "GRANADA",
  "Las Palmas": "LAS PALMAS",
  "Mallorca": "MALLORCA",
  "Osasuna": "OSASUNA",
  "Rayo Vallecano": "RAYO",
  "Real Betis": "BETIS",
  "Real Madrid": "MADRID",
  "Real Sociedad": "SOCIEDAD",
  "Sevilla": "SEVILLA",
  "Valencia": "VALENCIA",
  "Villarreal": "VILLARREAL"
};


const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

let uploadedImage = null;
let player1Img = null;
let player2Img = null;
let homeLogo = null;
let awayLogo = null;

// Map EPL teams to logo paths
const teamLogos = {
  "Arsenal": "logos/arsenal.svg",
  "Chelsea": "logos/chelsea.png",
  "Liverpool": "logos/liverpool.png",
  "Manchester City": "logos/mancity.png",
  "Manchester United": "logos/manutd.png",
  "Tottenham Hotspur": "logos/tottenham.svg",
  "AFC Bournemouth": "logos/bournemouth.svg",
  "Aston Villa": "logos/astonvilla.png",
  "Brentford": "logos/brentford.png",
  "Brighton & Hove Albion": "logos/brighton.png",
  "Burnley": "logos/burnley.png",
  "Crystal Palace": "logos/crystalpalace.png",
  "Everton": "logos/everton.png",
  "Fulham": "logos/fulham.png",
  "Leeds United": "logos/leedsunited.png",
  "Newcastle United": "logos/newcastle.png",
  "Nottingham Forest": "logos/nottingham.png",
  "Sunderland": "logos/sunderland.png",
  "West Ham United": "logos/westham.png",
  "Wolverhampton Wanderers": "logos/wolves.png",
  "Real Madrid": "logos/realmadrid.png",
  "FC Barcelona": "logos/barcelona.png",
  "Atl√©tico Madrid": "logos/atletico.svg",
  "Sevilla FC": "logos/sevilla.png",
  "Real Sociedad": "logos/realsociedad.png",
  "Athletic Bilbao": "logos/athleticbilbao.png",
  "Villarreal": "logos/villarreal.png",
  "Real Betis": "logos/realbetis.png",
  "Valencia": "logos/valencia.png",
  "Celta Vigo": "logos/celta.png",
  "Rayo Vallecano": "logos/rayo.png",
  "Getafe": "logos/getafe.png",
  "Osasuna": "logos/osasuna.png",
  "Mallorca": "logos/mallorca.png",
  "Girona": "logos/girona.png",
  "Granada": "logos/granada.png",
  "Alav√©s": "logos/alaves.png",
  "Las Palmas": "logos/laspalmas.png",
  "C√°diz": "logos/cadiz.png",
  "Espanyol": "logos/espanyol.png"
};

function loadImage(file, callback) {
  if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    const img = new Image();
    img.onload = () => callback(img);
    img.src = e.target.result;
  };
  reader.readAsDataURL(file);
}

function loadLogo(team, callback) {
  const path = teamLogos[team];
  if (!path) { callback(null); return; }
  const img = new Image();
  img.onload = () => callback(img);
  img.src = path;
}

document.getElementById("imageUploader").addEventListener("change", e => {
  loadImage(e.target.files[0], img => {
    uploadedImage = img;
    resizeCanvasToImage(img);
    render();
  });
});

document.getElementById("player1").addEventListener("change", e => {
  loadImage(e.target.files[0], img => { player1Img = img; render(); });
});

document.getElementById("player2").addEventListener("change", e => {
  loadImage(e.target.files[0], img => { player2Img = img; render(); });
});

document.getElementById("homeTeam").addEventListener("input", e => {
  loadLogo(e.target.value, img => { homeLogo = img; render(); });
});
document.getElementById("awayTeam").addEventListener("input", e => {
  loadLogo(e.target.value, img => { awayLogo = img; render(); });
});

document.querySelectorAll("#matchTime, #stadiumName, #matchDate")
  .forEach(input => input.addEventListener("input", render));

function resizeCanvasToImage(img) {
  canvas.width = img.width;
  canvas.height = img.height;
}

function formatDate(dateStr) {
  if (!dateStr) return "Date TBD";
  const date = new Date(dateStr);
  return date.toLocaleDateString("en-US", { day: "numeric", month: "long", year: "numeric" });
}

function drawTextCentered(text, y, fontSize, color = "white") {
  ctx.font = `${fontSize}px Anton`;
  ctx.textAlign = "center";
  ctx.fillStyle = color;
  ctx.strokeStyle = "black";
  ctx.lineWidth = 6;
  ctx.strokeText(text, canvas.width / 2, y);
  ctx.fillText(text, canvas.width / 2, y);
}

function render() {
  if (!uploadedImage) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(uploadedImage, 0, 0, canvas.width, canvas.height);

  // Team Logos
  const logoSize = canvas.height * 0.29;
  if (homeLogo) {
    ctx.drawImage(homeLogo, canvas.width * 0.35 - logoSize/2, canvas.height * 0.35, logoSize, logoSize);
  }
  if (awayLogo) {
    ctx.drawImage(awayLogo, canvas.width * 0.65 - logoSize/2, canvas.height * 0.35, logoSize, logoSize);
  }

  // Match Time (center between logos)
  drawTextCentered(
    document.getElementById("matchTime").value || "17:30",
    canvas.height * 0.68,
    Math.max(canvas.width * 0.06, 30),
    "white"
  );

  // VS text (optional, above time)
  drawTextCentered("VS", canvas.height * 0.55, Math.max(canvas.width * 0.05, 40), "white");

  // Team Names under logos
  ctx.font = `${Math.max(canvas.width * 0.04, 35)}px Anton`;
  ctx.textAlign = "center";
  ctx.fillStyle = "white";
  ctx.strokeStyle = "black";
  ctx.lineWidth = 6;

let homeTeamFull = document.getElementById("homeTeam").value;
let awayTeamFull = document.getElementById("awayTeam").value;

let homeTeamShort = teamShortNames[homeTeamFull] || homeTeamFull;
let awayTeamShort = teamShortNames[awayTeamFull] || awayTeamFull;

ctx.fillText(homeTeamShort, canvas.width * 0.35, canvas.height * 0.72);
ctx.fillText(awayTeamShort, canvas.width * 0.65, canvas.height * 0.72);


  // Match Date (optional, bottom center)
  drawTextCentered(formatDate(document.getElementById("matchDate").value) , canvas.height * 0.85, Math.max(canvas.width * 0.03, 28), "white");
drawTextCentered(document.getElementById("stadiumName").value || "Stadium TBD", canvas.height * 0.95, Math.max(canvas.width * 0.03, 28), "white");
} 

function downloadImage() {
  const link = document.createElement("a");
  link.download = "match-fixture.png";
  link.href = canvas.toDataURL("image/png");
  link.click();
}
// REMOVE the duplicate uploadedImage declaration
// let uploadedImage = null;  <-- delete this line (you already declared it above)

// Competition background images
const competitionBackgrounds = {
  premier: "logos/default.jpg",   // make sure this file exists
  ucl: "logos/ucl.jpg",
  laliga: "logos/laliga.jpg",
  seriea: "logos/seriea.jpg",
  bundesliga: "logos/bundesliga.jpg",
  facup: "logos/facup.jpg",
  supercup: "logos/supercup.jpg",
  uel: "logos/uel.jpg",
  conference: "logos/conference.jpg",
  efl: "logos/efl.jpg",
  championship: "logos/championship.jpg"
};

// Change competition background
document.getElementById("competitionSelect").addEventListener("change", e => {
  const selected = e.target.value;
  const path = competitionBackgrounds[selected];
  if (path) {
    const img = new Image();
    img.onload = function() {
      uploadedImage = img;
      resizeCanvasToImage(img);
      render();
    };
    img.src = path;
  }
});

// Set default competition background (Premier League)
window.onload = function() {
  const img = new Image();
  img.onload = function() {
    uploadedImage = img;
    resizeCanvasToImage(img);
    render();
  };
  img.src = competitionBackgrounds.premier;
};

</script>


</body>
</html>
