<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Football Match Fixtures Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(to bottom right, #2c3e50, #3498db);
      color: #fff;
      font-family: "Segoe UI", sans-serif;
      padding: 20px;
      text-align: center;
    }
    .container {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 14px;
      padding: 25px 30px;
      max-width: 850px;
      margin: auto;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
    }
    input[type="text"], input[type="date"], input[type="file"] {
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #ecf0f1;
      color: #333;
      width: 100%;
      margin-bottom: 10px;
    }
    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #27ae60;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background-color: #1e8d4d;
      transform: scale(1.03);
    }
    canvas {
      margin-top: 30px;
      border-radius: 12px;
      max-width: 100%;
      border: 2px solid #fff;
    }
  </style>
</head>
<body>

<h2>üèÜ Football Match Fixtures Generator</h2>

<div class="container">
  <label>Background Image:</label>
  <input type="file" id="imageUploader" accept="image/*"><br>

  <label>Player Image 1:</label>
  <input type="file" id="player1" accept="image/*"><br>

  <label>Player Image 2:</label>
  <input type="file" id="player2" accept="image/*"><br>

  <label>Home Team Logo:</label>
  <input type="file" id="homeLogo" accept="image/*"><br>

  <label>Away Team Logo:</label>
  <input type="file" id="awayLogo" accept="image/*"><br>

  <input type="text" id="homeTeam" placeholder="üè† Home Team Name">
  <input type="text" id="awayTeam" placeholder="üö© Away Team Name">
  <input type="text" id="matchTime" placeholder="‚è∞ Match Time (e.g., 4:00 PM)">
  <input type="text" id="stadiumName" placeholder="üèüÔ∏è Stadium Name">
  <input type="date" id="matchDate">

  <button onclick="downloadImage()">üíæ Download Image</button>
</div>

<canvas id="canvas"></canvas>

<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  let uploadedImage = null;
  let player1Img = null;
  let player2Img = null;
  let homeLogoImg = null;
  let awayLogoImg = null;

  function loadImage(file, callback) {
    if (!file) return;
    const reader = new FileReader();
    reader.onload = e => {
      const img = new Image();
      img.onload = () => callback(img);
      img.src = e.target.result;
    };
    reader.readAsDataURL(file);
  }

  document.getElementById("imageUploader").addEventListener("change", e => {
    loadImage(e.target.files[0], img => {
      uploadedImage = img;
      canvas.width = img.width;
      canvas.height = img.height;
      render();
    });
  });

  document.getElementById("player1").addEventListener("change", e => {
    loadImage(e.target.files[0], img => { player1Img = img; render(); });
  });

  document.getElementById("player2").addEventListener("change", e => {
    loadImage(e.target.files[0], img => { player2Img = img; render(); });
  });

  document.getElementById("homeLogo").addEventListener("change", e => {
    loadImage(e.target.files[0], img => { homeLogoImg = img; render(); });
  });

  document.getElementById("awayLogo").addEventListener("change", e => {
    loadImage(e.target.files[0], img => { awayLogoImg = img; render(); });
  });

  document.querySelectorAll("#homeTeam, #awayTeam, #matchTime, #stadiumName, #matchDate")
    .forEach(input => input.addEventListener("input", render));

  function formatDate(dateStr) {
    if (!dateStr) return "Date TBD";
    const date = new Date(dateStr);
    return date.toLocaleDateString("en-US", { day: "numeric", month: "long", year: "numeric" });
  }

  function drawTextCentered(text, y, fontSize, color = "white") {
    ctx.font = `${fontSize}px Anton`;
    ctx.textAlign = "center";
    ctx.fillStyle = color;
    ctx.strokeStyle = "black";
    ctx.lineWidth = 6;
    ctx.strokeText(text, canvas.width / 2, y);
    ctx.fillText(text, canvas.width / 2, y);
  }

  function render() {
    if (!uploadedImage) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(uploadedImage, 0, 0);

    // Players
    const playerHeight = canvas.height * 0.6;
    const playerWidth = playerHeight * 0.6;
    ctx.globalAlpha = 0.85;

    if (player1Img) ctx.drawImage(player1Img, canvas.width * 0.05, canvas.height - playerHeight, playerWidth, playerHeight);
    if (player2Img) ctx.drawImage(player2Img, canvas.width - playerWidth - canvas.width * 0.05, canvas.height - playerHeight, playerWidth, playerHeight);

    ctx.globalAlpha = 1.0;

    // Logos
    const logoSize = canvas.width * 0.22;
    const logoY = canvas.height * 0.45;
    if (homeLogoImg) ctx.drawImage(homeLogoImg, canvas.width * 0.36 - logoSize / 2, logoY, logoSize, logoSize);
    if (awayLogoImg) ctx.drawImage(awayLogoImg, canvas.width * 0.64 - logoSize / 2, logoY, logoSize, logoSize);

    // VS text
    drawTextCentered("VS", canvas.height * 0.52, Math.max(canvas.width * 0.05, 40), "white");

    // Match details
    drawTextCentered(`${document.getElementById("matchTime").value || "Time TBD"} - ${document.getElementById("stadiumName").value || "Stadium TBD"}`,
                     canvas.height * 0.78, Math.max(canvas.width * 0.035, 30), "yellow");
    drawTextCentered(formatDate(document.getElementById("matchDate").value), canvas.height * 0.85, Math.max(canvas.width * 0.03, 24));
  }

  function downloadImage() {
    const link = document.createElement("a");
    link.download = "match-fixture.png";
    link.href = canvas.toDataURL("image/png");
    link.click();
  }
</script>

</body>
</html>
